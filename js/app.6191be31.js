(function(){"use strict";var e={6449:function(e,a,t){var l=t(9242),n=t(3396),r=t(4870),i=(t(7658),t(6229),t(7330),t(2062),t(7139));const c={class:"dnd-card__header"},u={class:"dnd-card__name dnd-card__cell"},s={key:0,class:"dnd-card__two-row"},o={class:"dnd-card__casting-time dnd-card__cell dnd-card__property"},d=(0,n._)("div",{class:"dnd-card__property-label"}," Casting Time ",-1),v={class:"dnd-card__range dnd-card__cell dnd-card__property"},p=(0,n._)("div",{class:"dnd-card__property-label"}," Range ",-1),_={key:1,class:"dnd-card__two-row"},m={class:"dnd-card__components dnd-card__cell dnd-card__property"},g=(0,n._)("div",{class:"dnd-card__property-label"}," Components ",-1),y={class:"dnd-card__duration dnd-card__cell dnd-card__property"},f=(0,n._)("div",{class:"dnd-card__property-label"}," Duration ",-1),h={key:0,class:"dnd-card__material"},k={class:"dnd-card__description"},w={key:1,class:"dnd-card__higher-levels"},b=(0,n._)("div",{class:"dnd-card__higher-levels-label"}," At higher levels: ",-1),S={key:0,class:"dnd-card__footer"},C=(0,n._)("span",{class:"dnd-card__edit-button-inner"},null,-1),U=[C];var x={__name:"DndCard",props:{name:{type:String,default:()=>""},isSimple:{type:Boolean,default:()=>!1},meta:{type:Object,default:()=>({type:{level:0,school:"other"},castingTime:"1 action",range:"self",components:{verbal:!0,somatic:!1,material:!1,materialName:""},duration:"instantaneous",concentration:!1})},description:{type:String,default:()=>""},simpleCardType:{type:String,default:()=>""},higherLevels:{type:String,default:()=>""},textSize:{type:Number,default:()=>10},index:{type:Number,required:!0},isCurrent:{type:Boolean,default:!1}},emits:["editButtonClick","deleteButtonClick"],setup(e,{emit:a}){const t=e,l=(0,n.Fl)((()=>{let e=[];return t.meta.components.verbal&&e.push("V"),t.meta.components.somatic&&e.push("S"),t.meta.components.material&&e.push("M"),e.length>0?e.join(", "):"-"})),r=(0,n.Fl)((()=>(""===t.meta.duration?"Instantaneous":t.meta.duration)+(t.meta.concentration?" (C)":""))),C=(0,n.Fl)((()=>{if(t.isSimple)return t.simpleCardType;const e=Math.max(0,t.meta.type.level);let a=e+"th-level "+t.meta.type.school;if(e<4)switch(e){case 0:a=t.meta.type.school+" cantrip";break;case 1:a="1st-level "+t.meta.type.school;break;case 2:a="2nd-level "+t.meta.type.school;break;case 3:a="3rd-level "+t.meta.type.school;break}return a})),x=()=>{a("editButtonClick",t.index)},D=()=>{a("deleteButtonClick",t.index)};return(e,a)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,i.C_)(["dnd-card",{"is-current":t.isCurrent,"dnd-card--simple":t.isSimple}])},[(0,n._)("div",c,[(0,n._)("div",u,(0,i.zw)(t.name),1),t.isSimple?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",o,[d,(0,n.Uk)(" "+(0,i.zw)(t.meta.castingTime),1)]),(0,n._)("div",v,[p,(0,n.Uk)(" "+(0,i.zw)(t.meta.range),1)])])),t.isSimple?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("div",m,[g,(0,n.Uk)(" "+(0,i.zw)(l.value),1)]),(0,n._)("div",y,[f,(0,n.Uk)(" "+(0,i.zw)(r.value),1)])]))]),(0,n._)("div",{class:"dnd-card__body dnd-card__cell",style:(0,i.j5)({fontSize:t.textSize+"px"})},[t.meta.components.materialName?((0,n.wg)(),(0,n.iD)("div",h," Material: "+(0,i.zw)(t.meta.components.materialName),1)):(0,n.kq)("",!0),(0,n._)("div",k,(0,i.zw)(t.description),1),t.higherLevels&&!t.isSimple?((0,n.wg)(),(0,n.iD)("div",w,[b,(0,n.Uk)(" "+(0,i.zw)(t.higherLevels),1)])):(0,n.kq)("",!0)],4),C.value?((0,n.wg)(),(0,n.iD)("div",S,(0,i.zw)(C.value),1)):(0,n.kq)("",!0),(0,n._)("div",{class:"dnd-card__button-overlay"},[(0,n._)("button",{class:"dnd-card__edit-button","aria-label":"edit",onClick:x},U),(0,n._)("button",{class:"dnd-card__delete-button","aria-label":"delete",onClick:D})])],2))}};const D=x;var z=D;const T={class:"input-text"},q=["for"],j=["id","type"],O=["id"];var W={__name:"InputText",props:{value:{type:[String,Number],default:()=>null},id:{type:String,default:()=>""},textarea:{type:Boolean,default:!1},label:{type:String,default:()=>""},type:{type:String,default:()=>"text"}},emits:["update:value","input"],setup(e,{emit:a}){const t=e,r=(0,n.Fl)({get(){return t.value},set(e){a("update:value",e)}});return(e,c)=>((0,n.wg)(),(0,n.iD)("div",T,[t.label?((0,n.wg)(),(0,n.iD)("label",{key:0,class:"input-text__label",for:t.id},(0,i.zw)(t.label),9,q)):(0,n.kq)("",!0),t.textarea?(0,n.wy)(((0,n.wg)(),(0,n.iD)("textarea",{key:2,id:t.id,"onUpdate:modelValue":c[2]||(c[2]=e=>r.value=e),class:"input-text__input"},null,8,O)),[[l.nr,r.value]]):(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{key:1,id:t.id,"onUpdate:modelValue":c[0]||(c[0]=e=>r.value=e),type:t.type,class:"input-text__input",onInput:c[1]||(c[1]=e=>a("input",e))},null,40,j)),[[l.YZ,r.value]])]))}};const H=W;var N=H;const B={class:"input-check"},I=["id"],F={class:"input-check__box"};var L={__name:"InputCheck",props:{id:{type:String,default:()=>null},value:{type:Boolean,default:()=>null},character:{type:String,default:()=>"V"}},emits:["update:value"],setup(e,{emit:a}){const t=e,r=(0,n.Fl)({get(){return t.value},set(e){a("update:value",e)}});return(e,a)=>((0,n.wg)(),(0,n.iD)("div",B,[(0,n.wy)((0,n._)("input",{id:t.id,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),type:"checkbox",class:"input-check__input"},null,8,I),[[l.e8,r.value]]),(0,n._)("div",F,(0,i.zw)(t.character),1)]))}};const M=L;var V=M;const Y={class:"query-results"},K=["onClick"];var A={__name:"QueryResults",props:{results:{type:Array,default:()=>null}},emits:["suggestion-click"],setup(e,{emit:a}){const t=e;return(e,l)=>((0,n.wg)(),(0,n.iD)("ul",Y,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.results,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:t,class:"query-results__item",onClick:t=>a("suggestion-click",e.url)},(0,i.zw)(e.name),9,K)))),128))]))}};const P=A;var R=P;const E=(0,n._)("div",{class:"card-configurator__title"}," Configure card ",-1),G={class:"card-configurator__inputs"},J={key:1,class:"card-configurator__two-row"},Q={key:2,class:"card-configurator__two-row"},X={key:3,class:"card-configurator__two-row"},Z={class:"card-configurator__checkbox-wrapper"},$=(0,n._)("div",{class:"card-configurator__checkbox-label"}," Components ",-1),ee={class:"card-configurator__checkbox-inner"},ae={class:"card-configurator__duration-wrapper"},te={class:"card-configurator__simple-wrapper"},le=(0,n._)("label",{for:"simple"}," Is simplified card? ",-1);var ne={__name:"CardConfigurator",props:{currentIndex:{type:Number,default:()=>-1},cards:{type:Array,default:()=>[]}},emits:["update:cards","update"],setup(e,{emit:a}){const t=e,c=(0,n.Fl)({get(){return t.cards},set(e){a("update:cards",e)}}),u=(0,n.Fl)({get(){return c.value[t.currentIndex]},set(e){c.value[t.currentIndex]=e}});(0,n.YP)((()=>u),(()=>{a("update")}),{deep:!0});const s=(0,r.iH)(null),o=(0,r.iH)([]),d=(0,r.iH)(!1),v=(0,r.iH)(!1),p=async()=>{if(u.value.name.length>3){s.value&&clearTimeout(s.value);const e=u.value.name.replace(" ","+");s.value=setTimeout((async()=>{d.value=!0,s.value=null;try{const a=await fetch("https://www.dnd5eapi.co/api/spells/?name="+e),t=await a.json();d.value=!1,t.count>0&&(v.value=!0,o.value=t.results)}catch(a){d.value=!1}}),100)}},_=()=>{v.value=!1},m=async e=>{v.value=!1;try{const a=await fetch("https://www.dnd5eapi.co"+e),t=await a.json();g(t)}catch(a){}},g=e=>{u.value={name:e.name,isSimple:e.isSimple??!1,simpleCardType:e.simpleCardType??"",meta:{type:{level:e.level,school:e.school?e.school.name:"Other"},castingTime:e.casting_time,range:e.range,components:{verbal:e.components.includes("V"),somatic:e.components.includes("S"),material:e.components.includes("M"),materialName:e.material??""},duration:e.duration,concentration:e.concentration},description:e.desc.join("\n\n"),higherLevels:e.higher_level.length>0?e.higher_level.join("\n\n"):"",textSize:12}};return(e,a)=>-1!==t.currentIndex?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,i.C_)(["card-configurator",{"card-configurator--simple":u.value.isSimple}])},[E,(0,n._)("div",G,[(0,n.Wm)((0,r.SU)(N),{value:u.value.name,"onUpdate:value":a[0]||(a[0]=e=>u.value.name=e),class:"card-configurator__name",label:"Name",onInput:p,onKeyup:(0,l.D2)(_,["esc"])},null,8,["value","onKeyup"]),o.value.length>0?((0,n.wg)(),(0,n.j4)((0,r.SU)(R),{key:0,results:o.value,onSuggestionClick:m},null,8,["results"])):(0,n.kq)("",!0),u.value.isSimple?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",J,[(0,n.Wm)((0,r.SU)(N),{value:u.value.meta.type.level,"onUpdate:value":a[1]||(a[1]=e=>u.value.meta.type.level=e),class:"card-configurator__level",type:"number",label:"Lvl"},null,8,["value"]),(0,n.Wm)((0,r.SU)(N),{value:u.value.meta.type.school,"onUpdate:value":a[2]||(a[2]=e=>u.value.meta.type.school=e),class:"card-configurator__school",label:"School"},null,8,["value"])])),u.value.isSimple?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Q,[(0,n.Wm)((0,r.SU)(N),{value:u.value.meta.castingTime,"onUpdate:value":a[3]||(a[3]=e=>u.value.meta.castingTime=e),class:"card-configurator__casting-time",label:"Casting time"},null,8,["value"]),(0,n.Wm)((0,r.SU)(N),{value:u.value.meta.range,"onUpdate:value":a[4]||(a[4]=e=>u.value.meta.range=e),class:"card-configurator__range",label:"Range"},null,8,["value"])])),u.value.isSimple?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",X,[(0,n._)("div",Z,[$,(0,n._)("div",ee,[(0,n.Wm)((0,r.SU)(V),{value:u.value.meta.components.verbal,"onUpdate:value":a[5]||(a[5]=e=>u.value.meta.components.verbal=e),character:"V"},null,8,["value"]),(0,n.Wm)((0,r.SU)(V),{value:u.value.meta.components.somatic,"onUpdate:value":a[6]||(a[6]=e=>u.value.meta.components.somatic=e),character:"S"},null,8,["value"]),(0,n.Wm)((0,r.SU)(V),{value:u.value.meta.components.material,"onUpdate:value":a[7]||(a[7]=e=>u.value.meta.components.material=e),character:"M"},null,8,["value"])])]),(0,n._)("div",ae,[(0,n.Wm)((0,r.SU)(N),{value:u.value.meta.duration,"onUpdate:value":a[8]||(a[8]=e=>u.value.meta.duration=e),class:"card-configurator__duration",label:"Duration"},null,8,["value"]),(0,n.Wm)((0,r.SU)(V),{value:u.value.meta.concentration,"onUpdate:value":a[9]||(a[9]=e=>u.value.meta.concentration=e),class:"card-configurator__concentration",character:"C"},null,8,["value"])])])),u.value.meta.components.material?((0,n.wg)(),(0,n.j4)((0,r.SU)(N),{key:4,value:u.value.meta.components.materialName,"onUpdate:value":a[10]||(a[10]=e=>u.value.meta.components.materialName=e),class:"card-configurator__material-name",label:"Material name"},null,8,["value"])):(0,n.kq)("",!0),(0,n.Wm)((0,r.SU)(N),{value:u.value.description,"onUpdate:value":a[11]||(a[11]=e=>u.value.description=e),textarea:!0,class:"card-configurator__description",label:"Description"},null,8,["value"]),(0,n.Wm)((0,r.SU)(N),{value:u.value.simpleCardType,"onUpdate:value":a[12]||(a[12]=e=>u.value.simpleCardType=e),class:"card-configurator__simple-type",label:"Card type"},null,8,["value"]),u.value.isSimple?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)((0,r.SU)(N),{key:5,value:u.value.higherLevels,"onUpdate:value":a[13]||(a[13]=e=>u.value.higherLevels=e),textarea:!0,class:"card-configurator__higher-levels",label:"Higher levels"},null,8,["value"])),(0,n._)("div",te,[(0,n.Wm)((0,r.SU)(N),{value:u.value.textSize,"onUpdate:value":a[14]||(a[14]=e=>u.value.textSize=e),class:"card-configurator__text-size",type:"number",label:"Text Size"},null,8,["value"]),(0,n.Wm)((0,r.SU)(V),{id:"simple",value:u.value.isSimple,"onUpdate:value":a[15]||(a[15]=e=>u.value.isSimple=e),class:"card-configurator__simple-check",character:"X"},null,8,["value"]),le])])],2)):(0,n.kq)("",!0)}};const re=ne;var ie=re;const ce={key:0,class:"card-grid__controls"},ue={class:"card-grid__controls-inner"},se=["src"],oe={class:"card-grid__control-flex"},de=(0,n._)("label",{for:"printCardBack"}," Print Card back? ",-1),ve={id:"printTarget",class:"card-grid__grid"},pe=["src"],_e={key:1,class:"card-grid__configurator"};var me={__name:"CardGrid",emits:["cardAddClick","update:cards"],setup(e,{emit:a}){const t=(0,r.iH)([]);(0,n.bv)((()=>{let e=localStorage.getItem("dndCards");null!==e&&(t.value=JSON.parse(e))}));const c=()=>{t.value.push({name:"New spell",meta:{type:{level:0,school:"Other"},castingTime:"1 action",range:"Self",components:{verbal:!0,somatic:!1,material:!1,materialName:""},duration:"Instantaneous",concentration:!1},textSize:12,description:"",higherLevels:""}),d.value=t.value.length-1,u()},u=()=>{localStorage.setItem("dndCards",JSON.stringify(t.value))},s=(0,n.Fl)((()=>{const e=t.value.length;return Math.ceil(e/9)})),o=(0,n.Fl)((()=>{const e=t.value.length;return e%9})),d=(0,r.iH)(),v=(0,r.iH)(!1),p=(0,r.iH)(null),_=(0,r.iH)(!1),m=()=>{u(),_.value=!0,(0,n.Y3)((()=>{window.print(),_.value=!1}))},g=(e,a)=>{d.value=d.value===f(e,a)?-1:f(e,a),u()},y=(e,a)=>{t.value.splice(f(e,a),1),d.value>=t.value.length&&d.value--,u()},f=(e,a)=>a-1+9*(e-1),h=e=>{let a=e.target.files||e.dataTransfer.files;a.length&&(p.value=URL.createObjectURL(a[0]))};return(e,a)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,i.C_)(["card-grid",_.value&&"card-grid--print"])},[_.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",ce,[(0,n._)("div",ue,[(0,n._)("button",{onClick:c}," Add card "),(0,n._)("button",{onClick:m}," Print cards "),(0,n._)("input",{type:"file",accept:"image/*",onChange:h},null,32),p.value?((0,n.wg)(),(0,n.iD)("img",{key:0,class:"card-grid__card-preview",src:p.value,alt:"Card back"},null,8,se)):(0,n.kq)("",!0),(0,n._)("div",oe,[de,(0,n.wy)((0,n._)("input",{id:"printCardBack","onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),type:"checkbox"},null,512),[[l.e8,v.value]])])])])),(0,n._)("div",ve,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.value,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:(0,i.C_)(["card-grid__partition",1!==e&&"card-grid__page-break"])},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e===s.value?0===o.value?9:o.value:9,(a=>((0,n.wg)(),(0,n.iD)("div",{key:a,class:"card-grid__item"},[(0,n.Wm)((0,r.SU)(z),(0,n.dG)({class:"card-grid__card"},t.value[f(e,a)],{"is-current":d.value===f(e,a)&&!_.value,index:f(e,a),onEditButtonClick:t=>g(e,a),onDeleteButtonClick:t=>y(e,a)}),null,16,["is-current","index","onEditButtonClick","onDeleteButtonClick"])])))),128))],2)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.value,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:"card-grid__partition card-grid__page-break"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e===s.value?0===o.value?9:o.value:9,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:"card-grid__item"},[p.value?((0,n.wg)(),(0,n.iD)("img",{key:0,class:"card-grid__card-back",src:p.value,alt:"Card back"},null,8,pe)):(0,n.kq)("",!0)])))),128))])))),128))]),_.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",_e,[(0,n.Wm)((0,r.SU)(ie),{cards:t.value,"onUpdate:cards":a[1]||(a[1]=e=>t.value=e),"current-index":d.value,onUpdate:u},null,8,["cards","current-index"])]))],2))}};const ge=me;var ye=ge,fe={__name:"App",setup(e){return(e,a)=>((0,n.wg)(),(0,n.j4)((0,r.SU)(ye)))}};const he=fe;var ke=he;let we=(0,l.ri)(ke);we.mount("#app")}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var r=a[l]={exports:{}};return e[l].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,r){if(!l){var i=1/0;for(o=0;o<e.length;o++){l=e[o][0],n=e[o][1],r=e[o][2];for(var c=!0,u=0;u<l.length;u++)(!1&r||i>=r)&&Object.keys(t.O).every((function(e){return t.O[e](l[u])}))?l.splice(u--,1):(c=!1,r<i&&(i=r));if(c){e.splice(o--,1);var s=n();void 0!==s&&(a=s)}}return a}r=r||0;for(var o=e.length;o>0&&e[o-1][2]>r;o--)e[o]=e[o-1];e[o]=[l,n,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,r,i=l[0],c=l[1],u=l[2],s=0;if(i.some((function(a){return 0!==e[a]}))){for(n in c)t.o(c,n)&&(t.m[n]=c[n]);if(u)var o=u(t)}for(a&&a(l);s<i.length;s++)r=i[s],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(o)},l=self["webpackChunkdnd_card_gen"]=self["webpackChunkdnd_card_gen"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[998],(function(){return t(6449)}));l=t.O(l)})();
//# sourceMappingURL=app.6191be31.js.map